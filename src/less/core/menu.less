// Component:       Menu
// Description:     Define styles for navigation menu
//
// Blocks:          'menu'
//
// Elements:        'menu__ul'
//                  'menu__li'
//                  'menu__a'
//                  'menu__active'
//                  'menu__brand'
//                  'menu__parent'
//                  'menu__burger'
//                  'menu__trigger'
//
// Modifiers:       'menu--vert'
//                  'menu--droptop'
//                  'menu--dropleft'
//                  'menu--primary'
//                  'menu--secondary'
//                  'menu--black'
//                  'menu--flat'
//                  'menu--fixed-top'
//                  'menu--fixed-bottom'
//                  'menu--offset'
//                  'menu__ul--dropdown'
//
// Markup:
//
// <!-- MENU -->
// <nav class="menu">
//   <div class="menu__header">
//     <a href="#" class="menu__a menu__brand">Brand</a>
//     <label class="btn menu__burger" for="menu__trigger">Show menu</label>
//   </div>
//
//   <input type="checkbox" id="menu__trigger" class="menu__trigger">
//
//   <ul class="menu__ul">
//     <li class="menu__active"><a class="menu__a" href="#">Home</a></li>
//     <li class="menu__parent">
//       <a class="menu__a" href="#">Services</a>
//       <ul class="menu__ul--dropdown">
//         <li><a class="menu__a" href="#">Service 1</a></li>
//         <li class="menu__parent">
//           <a class="menu__a" href="#">Service 2</a>
//           <ul>
//             <li><a class="menu__a" href="#">Service 2.1</a></li>
//             <li><a class="menu__a" href="#">Service 2.2</a></li>
//             <li><a class="menu__a" href="#">Service 2.3</a></li>
//           </ul>
//         </li>
//         <li><a class="menu__a" href="#">Service 3</a></li>
//       </ul>
//     </li>
//     <li><a class="menu__a" href="#">Blog</a></li>
//     <li><a class="menu__a" href="#">About Us</a></li>
//     <li><a class="menu__a" href="#">Contact Us</a></li>
//   </ul>
// </nav>
//
// ========================================================================

/* ====================================
   MENU
   ==================================== */
.menu {
	.z-depth-1;
	.menu-gen(@menu-bg, @menu-color, @grey300, 100);
	.clearfix;

	// Menu header
	&__header {
		.clearfix;
	}

	// Brand - Menu Heading
	&__brand {
		text-transform: uppercase;
		font-weight: 900;
		float: left;
	}

	// Burger icon
	&__burger {
		float: right;
		margin-right: 16px;
	}

	// Trigger
	&__trigger {
		display: none;

		// Show Menu list when trigger checked
		&:checked + .menu__ul {
			visibility: visible;
			opacity: 1;
			height: auto;
		}
	}

	// Menu lists. Hidden by default
	&__ul {
		margin: 0;
		padding: 0;
		list-style: none;
		visibility: hidden;
		opacity: 0;
		height: 0;
		.animate(~"opacity, visibility, height");

		// Dropdowns
		&--dropdown {
			visibility: hidden;
			opacity: 0;
			height: 0;
			padding-left: 16px;
			.animate(~"opacity, visibility, height");
		}
	}

	// Menu item
	&__li {
		position: relative;
		display: block;
		vertical-align: middle;

		// Show Sub-menu
		&:hover > .menu__ul--dropdown {
			visibility: visible;
			opacity: 1;
			height: auto;
		}
	}

	// Menu link
	&__a {
		padding: 0 16px;
		text-decoration: none;
		line-height: @font-line-height*2;
		display: block;
		white-space: nowrap;
		font-weight: 700;

		.menu__parent > &:after {
			content: " \25BE";
			font-size: @font-size;
			line-height: @font-line-height;
			vertical-align: middle;
		}
	}

	// Offset Menu
	&--offset {
		.menu {
			// Menu list positioned outside of viewport
			&__ul {
				position: absolute;
				left: -100%;
				height: auto;
				background: @white;
				.z-depth-1('right');
				.animate(~"opacity, visibility, left, right");

				&--dropdown {
					@media (min-width: @screen-md) {
						left: 100%;
						top: 0;
					}
				}
			}

			// Define color for menu list items
			&__a {
				color: fade(@grey900, 60%) !important;
			}
			&__li:hover, &__active {
				> .menu__a {
					background: @grey100 !important;
					color: @grey900 !important;
					border-color: @grey100 !important;
				}
			}

			&__burger {
				display: inline-block !important;
				float: left;
			}

			&__trigger {
				// Show Menu on the left side of viewport
				&:checked + .menu__ul {
					left: 0;
				}
			}
		}

		// Fixed bottom offset menu
		&.menu--fixed-bottom .menu__ul {
			bottom: 100%;
		}

		// Show menu list from right side of viewport
//		&.menu--dropleft {
//			.menu__ul {
//				right: -100%;
//				left: auto;
//			}
//			.menu__trigger {
//				// Show Menu on the left side of viewport
//				&:checked + .menu__ul {
//					right: 0;
//					left: auto;
//				}
//			}
//		}
	}

	// Fixed menus
	&--fixed-top {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		z-index: 999;
		.lh-border-radius(0);
	}
	&--fixed-bottom {
		position: fixed;
		bottom: 0;
		left: 0;
		width: 100%;
		z-index: 999;
		.lh-border-radius(0);
		.z-depth-1('top');
	}
	
	// Colors
	&--primary {
		.menu-gen('primary', @white);
	}

	&--secondary {
		.menu-gen('secondary', @white);
	}

	&--black {
		.menu-gen('grey', @white, @white, 900);
	}
	
	// Flat menu (without shadow)
	&--flat {
		.z-depth-0;

		.menu__ul--dropdown {
			.z-depth-0;
		}
	}
	
	// Responsive menu
	@media (min-width: @screen-md) {
		// Header
		&__header {
			float: left;
		}

		// Burger
		&__burger {
			display: none;
		}

		// Menu list
		&__ul {
			visibility: visible;
			height: auto;
			opacity: 1;
			float: left;

			// Dropdowns
			&--dropdown {
				padding: 0;
				position: absolute;
				top: 100%;
				left: 0;
				z-index: 10;
				.z-depth-1;

				.menu__li {
					display: block !important;
				}

				.menu__a {
					line-height:@font-line-height*2;
					border-bottom: 0 none !important;
				}

				.menu__parent > .menu__a:after {content: " \25B8";}

				& & {
					left: 100%; top: 0;
				}
			}
		}

		&__li {
			display: inline-block;
		}

		&__a {
			line-height: @font-line-height*2 - 3px;
			border-bottom: 3px solid transparent;
		}

		// Vertical menu
		&--vert {
			.menu__header, .menu__ul {
				float: none;
			}

			.menu__li {
				width: 100%;
			}

			.menu__parent > a:after {content: ' \25B8';}

			.menu__a {
				line-height: @font-line-height*2;
				border: 0 none;
			}

			.menu__ul--dropdown {left: 100%; top: 0;}
		}

		// Flat menu
		&--flat .menu__ul--dropdown {
			outline: 1px solid #ddd;
		}

		// DropTop
		&--droptop {
			.menu__ul--dropdown {
				top:auto;
				bottom:100%;
				.z-depth-1('top');

				.menu__ul--dropdown {
					bottom:0 !important;
				}

				.menu__parent > .menu__a:after {content: ' \25B8';}
			}

			.menu__parent > .menu__a:after {content: " \25B4"}
		}

		// DropLeft
		&--dropleft {
			.menu__ul--dropdown {
				right: 0;

				.menu__ul--dropdown {
					left: auto;
					right: 100%;
				}
			}

			&.menu--vert {
				.menu__ul--dropdown {
					left: auto;
					right: 100%;
					bottom: 0;
				}
			}
		}

	}
}
